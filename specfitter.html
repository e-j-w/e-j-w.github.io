<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-tr$
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta
charset="utf-8"><meta
name="viewport" content="width=device-width, initial-scale=1">
<title>SpecFitter</title>
<style type="text/css">body{margin:40px
auto;max-width:800px;line-height:1.6;font-size:18px;color:#444;padding:0
10px}h1,h2,h3{line-height:1.2}</style>
</head>
<body>

<!--Dat header-->
:: <a href="index.html">Home</a> | <a href="papers.html">Publications</a> | <a href="code.html">Code</a> <br>

<h1 id="-jf3-"><strong>SpecFitter</strong></h1>

<p>A program for gamma-ray spectroscopy or similar data analysis.  Uses <a href="https://www.gtk.org/">GTK</a> to provide smooth rendering and (hopefully) an easy to understand interface.</p>

<b>Download the latest source code <a href="https://github.com/e-j-w/specfitter/archive/master.zip">here</a>.</b>

<h2 id="screenshot">Screenshots</h2>
<p><img src="https://raw.githubusercontent.com/e-j-w/e-j-w.github.io/master/media/specfitter.png" alt="SpecFitter user interface screenshot" title="SpecFitter user interface" style=width:800px;></p>

<h2 id="features">Features</h2>
<h3 id="display-data">Display data</h3>
<ul>
<li>Import data from one or multiple <a href="#filecompat">files</a> and plot multiple spectra simultaneously:<ul>
<li>Sum spectra together.</li>
<li>Overlay spectra, with either common or independent scaling on the y-axis.</li>
<li>Show spectra in a &quot;stacked&quot; view (tiled vertically with a common x-axis).</li>
</ul>
</li>
<li>Zoom and pan using the mouse (mouse wheel, click and drag).</li>
<li>Display in linear or logarithmic scale on the y-axis.</li>
<li>Calibrate spectra (with constant, linear, quadratic terms) to express bins in desired units.</li>
<li>Rescale spectra, to perform operations such as background subtraction.</li>
<li>Rebin spectra, with results displayed in real time.</li>
</ul>
<h3 id="fit-data">Fit data</h3>
<ul>
<li>Fit multiple Gaussian peak shapes (symmetric or skewed) on quadratic background (iterative least-squares fitter).</li>
<li>Relative peak widths may be fixed (recommended for gamma-ray spectroscopy) or allowed to freely vary.</li>
<li>Weight the fit by the data (taking background subtraction into account) or by the fit function.  Or don&#39;t weight the fit at all.</li>
</ul>
<h3 id="manage-data">Manage data</h3>
<ul>
<li>Rename, or delete spectra from the opened session.</li>
<li>Store custom views of multiple spectra using any of the available plotting modes.</li>
<li>Double click anywhere on a plot to write/edit a comment there.</li>
<li>The full session including comments and custom views can be saved to disk using the <strong>.jf3</strong> (compressed) or <strong>.txt</strong> (ACSII) file formats.</li>
<li>Export image files (.png format) at arbitrary resolution for use in presentations and publications.</li>
</ul>
<h3 id="supported-file-formats-a-name-filecompat-a-">Supported file formats<a name="filecompat"></a></h3>
<h4 id="read-write-support">Read/write support</h4>
<ul>
<li><strong>.jf3</strong> - Format containing one or more losslessly-compressed spectra with comments and customized views.</li>
<li><strong>.txt</strong> - A plaintext file of tab-separated values, can be copy-pasted to/from Excel or similar spreadsheet software.  Each row repesents a bin/channel and each column represents a spectrum (single column needed for 1 spectrum, 2 columns for 2, etc.).</li>
<li><strong>.spe</strong> -  Spectrum format used/generated by the <a href="https://radware.phy.ornl.gov/">RadWare</a> software package, for example when using the &#39;ws&#39; command in <code>gf3</code>.</li>
</ul>
<h4 id="read-only-support">Read-only support</h4>
<ul>
<li><strong>.C</strong> (ROOT macro) - <a href="https://root.cern.ch/">ROOT</a> histogram macro files (.C files generated using the File/Save option in a ROOT TBrowser).  Supports TH1D, TH1F, and TH1I histogram types.</li>
<li><strong>.mca</strong> - A 2D array of integers, with the first index denoting a spectrum number (array length up to 100) and the second index denoting a bin number (array length fixed to 32768 ie. 2<sup>15</sup>).</li>
<li><strong>.fmca</strong> - The same format as .mca except using floats rather than integers.</li>
</ul>
<h4 id="format-support-notes">Format support notes</h4>
<p>Some sample files that the program can open are available <a href="https://raw.githubusercontent.com/e-j-w/e-j-w.github.io/master/media/specfitter-sample-files.zip">here</a> (.zip archive).</p>
<p>Conversion code I made some films with friends during high school and in the decade or so after. I've backed up the master copies of the ones I have:
  Night Witness (2018)
  A feature length horror film.
  
  s for some of the above data formats are available in the <a href="https://github.com/e-j-w/FileConvTools">FileConvTools</a> code repository.</p>

<h2 id="getting-started">Getting started</h2>
<h3 id="compatibility">Compatibility</h3>
<p>Building the program from source has been tested on CentOS 7, Ubuntu 18.04/20.04, and Arch Linux (as of December 2021) under the GNOME desktop environment.  It should work on any Linux distro that satisfies the listed build dependencies.  It may be possible to build this on other platforms where GTK is <a href="https://www.gtk.org/docs/installations/">available</a>, but that hasn&#39;t been tested.</p>
<h3 id="build-dependencies">Build dependencies</h3>
<ul>
<li>make</li>
<li>gcc</li>
<li>pkg-config</li>
<li>GTK3</li>
</ul>
<p>In CentOS 7:</p>
<pre><code>sudo yum <span class="hljs-keyword">install</span> gcc gtk3-devel</code></pre>
<p>In Ubuntu:</p>
<pre><code>sudo apt <span class="hljs-keyword">install </span><span class="hljs-keyword">build-essential </span>libgtk-3-dev</code></pre>
<p>In Arch Linux:</p>
<pre><code>sudo pacman -S gcc <span class="hljs-built_in">make</span> pkgconf gtk3
</code></pre>

<h3 id="build-instructions">Build instructions</h3>
<p>A Makefile is provided, build the program using:</p>
<pre><code>make</code></pre>
The resulting `specfitter` <span class="hljs-built_in">executable</span> can <span class="hljs-keyword">be</span> run directly from the <span class="hljs-keyword">command</span> <span class="hljs-built_in">line</span> <span class="hljs-built_in">or</span> your <span class="hljs-keyword">file</span> manager.  Optionally, the program can <span class="hljs-keyword">be</span> installed <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span> users with:

<pre><code>sudo make install</code></pre>
<p>This will place the <code>specfitter</code> binary in <code>/usr/bin</code>, a data-type definition file in <code>/usr/share/mime/packages</code> (to allow opening compatible files directly from the file manager), and a desktop entry file in <code>/usr/share/applications</code> (for desktop environment integration).  These changes can be undone with:</p>
<p><code>sudo make uninstall</code></p>

<h2 id="usage-tips">Usage tips</h2>
<ul>
<li>Preferences are stored in a plaintext configuration file on a per-user basis at <code>$HOME/.config/specfitter/specfitter.conf</code>.</li>
<li>When running the program from the command line, it is possible to automatically open files by specifying the filename(s) as arguments (eg. <code>specfitter /path/to/file1 /path/to/file2</code>).</li>
<li>After fitting a spectrum, the onscreen fit can be cleared using the right mouse button.</li>
</ul>


<h3>Credits</h3>

<p align="justify">Developer/Maintainer: Jonathan Williams</p>



<!--Congratulations, you discovered the comment!-->
<!--Check out my Responsive Design(TM)-->

</body>
</html>